{"version":3,"sources":["constants.ts","util/timeMethods.ts","i18n/en.js","i18n/index.js","util/speechMethods.ts","components/StopWatch/StopWatch.tsx","App.tsx","serviceWorker.js","index.tsx"],"names":["noOp","Function","prototype","THEMES","light","className","query","dark","DEFAULT_THEME","PREFERRED_THEME","window","matchMedia","Object","values","reduce","cTheme","aTheme","matches","parseTime","milliseconds","Math","trunc","ONE_DAY","ONE_HOUR","ONE_MINUTE","ONE_SECOND","padSegments","timeSegments","map","seg","String","padStart","en","DEFAULT_LANGUAGE","supported","firstSupported","navigator","languages","language","userLanguage","find","lng","utter","text","speechSynthesis","thisUtterance","SpeechSynthesisUtterance","speak","supportsSpeechSynthesis","Boolean","StopWatch","props","onReset","onStart","onPause","onLap","useState","speakTime","setSpeakTime","startTime","setStartTime","stopTime","setStopTime","isRunning","setIsRunning","lapTimes","setLapTimes","displayTimeRef","useRef","readTimeRef","readLapRef","displayTime","elapsedTime","current","days","hours","minutes","seconds","secondTenths","timeSegmentMarkup","innerHTML","join","readTime","timeLanguage","timeToLanguage","readLap","lapLanguage","transText","lap","length","day","hour","minute","filter","ts","ref","aria-live","onClick","role","clearInterval","reset","rightNow","Date","now","pauseWatch","newStartTime","intervalId","setInterval","startWatch","pause","play","thisLapDuration","slice","fromStart","thisLapTime","id","time","disabled","reverse","i","key","s","App","activeTheme","setActiveTheme","watchEvents","setWatchEvents","addWatchEvent","entries","theme","event","laps","eventText","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.9a06c0e1.chunk.js","sourcesContent":["\r\nexport const noOp = Function.prototype\r\n\r\nexport type themeDef = {\r\n  className: string\r\n  query?: string\r\n}\r\n\r\nexport type themeMap = {\r\n  [key: string]: themeDef\r\n}\r\n\r\nexport const THEMES = {\r\n  light: { className: 'theme-light', query: '(prefers-color-scheme: light)' },\r\n  dark: { className: 'theme-dark', query:  '(prefers-color-scheme: dark)' },\r\n} as themeMap\r\n\r\nexport const DEFAULT_THEME = THEMES.light\r\n\r\n// doesn't listen live, for simplicity sake\r\nexport const PREFERRED_THEME = window?.matchMedia ? Object.values(THEMES).reduce(\r\n    (cTheme: themeDef, aTheme: themeDef) => (\r\n      aTheme.query && window.matchMedia(aTheme.query).matches ? aTheme : cTheme\r\n    ), DEFAULT_THEME) : DEFAULT_THEME\r\n\r\nexport const ONE_SECOND = 1000\r\nexport const ONE_MINUTE = ONE_SECOND * 60\r\nexport const ONE_HOUR = ONE_MINUTE * 60\r\nexport const ONE_DAY = ONE_HOUR * 24\r\nexport const ONE_YEAR = ONE_DAY * 365\r\n\r\nexport type StopWatchProps = {\r\n  onReset?: Function\r\n  onStart?: Function\r\n  onPause?: Function\r\n  onLap?: Function\r\n}\r\n\r\nexport type lapTime = {\r\n  id: number,\r\n  time: number,\r\n  fromStart: number\r\n}","import { ONE_DAY, ONE_HOUR, ONE_MINUTE, ONE_SECOND, ONE_YEAR } from '../constants'\r\n\r\nexport const parseTime = (milliseconds : number) : Array<number> => {\r\n  const days = Math.trunc((milliseconds % ONE_YEAR) / ONE_DAY)\r\n  const hours = Math.trunc((milliseconds % ONE_DAY) / ONE_HOUR)\r\n  const minutes = Math.trunc((milliseconds % ONE_HOUR) / ONE_MINUTE)\r\n  const seconds = Math.trunc((milliseconds % ONE_MINUTE) / ONE_SECOND)\r\n  const secondTenths = Math.trunc((milliseconds % ONE_SECOND) / 10)\r\n  \r\n  return [ days, hours, minutes, seconds, secondTenths ]\r\n}\r\n\r\nexport const padSegments = (timeSegments: Array<number>) : string[] => {\r\n  const [ days, hours, minutes, seconds, secondTenths ] = timeSegments.map(seg => seg ? String(seg).padStart(2, '0') : '')\r\n  return [ days, hours, minutes, seconds || '00', secondTenths || '00' ]\r\n}\r\n\r\n\r\n","const en = {\r\n  'play': 'play',\r\n  'pause': 'pause',\r\n  'reset': 'reset',\r\n  'lap': 'lap',\r\n  'lapTimes': 'Lap times',\r\n  'minute': 'minute',\r\n  'minutes': 'minutes',\r\n  'second': 'second',\r\n  'seconds': 'seconds',\r\n  'hour': 'hour',\r\n  'hours': 'hours',\r\n  'day': 'day',\r\n  'days': 'days',\r\n}\r\n\r\nexport default en\r\n","import en from './en'\r\n\r\nconst DEFAULT_LANGUAGE = en\r\nconst supported = { en }\r\nconst languages = window.navigator.languages || [window.navigator.language || window.navigator.userLanguage]\r\nconst firstSupported = languages.find(lng => supported[lng])\r\n\r\n\r\nexport default supported?.[firstSupported] || DEFAULT_LANGUAGE\r\n","export const utter = (text: string) : void => {\r\n  if (window.speechSynthesis) {\r\n    const thisUtterance = new window.SpeechSynthesisUtterance()\r\n    thisUtterance.text = text\r\n    window.speechSynthesis.speak(thisUtterance)\r\n  }\r\n}\r\n\r\nexport const supportsSpeechSynthesis = Boolean(window.speechSynthesis)","import React, { useState, useRef, FunctionComponent } from 'react'\r\nimport { padSegments, parseTime } from '../../util/timeMethods'\r\nimport { lapTime, noOp, StopWatchProps } from '../../constants'\r\nimport transText from '../../i18n'\r\nimport { supportsSpeechSynthesis, utter } from '../../util/speechMethods'\r\n\r\nimport './StopWatch.scss'\r\n\r\nconst StopWatch:FunctionComponent<StopWatchProps> = function(props) {\r\n  const { onReset = noOp, onStart = noOp, onPause = noOp, onLap = noOp} = props\r\n  const [ speakTime, setSpeakTime ] = useState(false)\r\n  const [ startTime, setStartTime ] = useState(0)\r\n  const [ stopTime, setStopTime ] = useState(0)\r\n  const [ isRunning, setIsRunning ] = useState(0)\r\n  const [ lapTimes, setLapTimes ] = useState([] as lapTime[])\r\n  const displayTimeRef = useRef<HTMLDivElement>(null)\r\n  const readTimeRef = useRef<HTMLDivElement>(null)\r\n  const readLapRef = useRef<HTMLDivElement>(null)\r\n\r\n  const displayTime = (elapsedTime: number) : void => {\r\n    if (displayTimeRef.current) {\r\n      const [ days, hours, minutes, seconds, secondTenths ] = padSegments(parseTime(elapsedTime))\r\n\r\n      const timeSegmentMarkup = [\r\n        days && `<span class='days' >${days}</span>` ,\r\n        hours && `<span class='hours' >${hours}</span>`,\r\n        minutes && `<span class='minutes' >${minutes}</span>`,\r\n        `<span class='seconds' >${seconds}</span>`,\r\n        `<span class='second-tenths' >${secondTenths}</span>`,\r\n      ]\r\n      displayTimeRef.current.innerHTML = timeSegmentMarkup.join('')\r\n    }\r\n  }\r\n\r\n  const startWatch = () : void => {\r\n    const newStartTime = Date.now() - (stopTime - startTime)\r\n    const intervalId = window.setInterval(() => {\r\n      displayTime(Date.now() - newStartTime)\r\n    }, 10)\r\n\r\n    setStartTime(newStartTime)\r\n    setIsRunning(intervalId)\r\n\r\n    onStart(newStartTime)\r\n  }\r\n\r\n  const pauseWatch = () : void => {\r\n    const rightNow = Date.now()\r\n    const elapsedTime = rightNow - startTime\r\n\r\n    window.clearInterval(isRunning)\r\n\r\n    setStopTime(rightNow)\r\n    setIsRunning(0)\r\n    displayTime(elapsedTime)\r\n    readTime(elapsedTime)\r\n\r\n    onPause(elapsedTime, lapTimes)\r\n  }\r\n\r\n  const handleToggleTime = () : void => {\r\n    if (Boolean(isRunning)) {\r\n      pauseWatch()\r\n    } else {\r\n      startWatch()\r\n    }\r\n  }\r\n\r\n  const handleReset = () : void => {\r\n    window.clearInterval(isRunning)\r\n    displayTime(0)\r\n    setIsRunning(0)\r\n    setStartTime(0)\r\n    setStopTime(0)\r\n    setLapTimes([])\r\n\r\n    onReset()\r\n  }\r\n\r\n  const handleLap = () : void => {\r\n    if (Boolean(isRunning)) {\r\n      const rightNow = Date.now()\r\n      const elapsedTime = rightNow - startTime\r\n      const lastLapEnd = lapTimes.slice(-1)[0]?.fromStart ?? 0\r\n      const thisLapDuration = elapsedTime - lastLapEnd\r\n      const thisLapTime = {\r\n        id: rightNow,\r\n        time: thisLapDuration,\r\n        fromStart: elapsedTime\r\n      } as lapTime\r\n\r\n      readLap(thisLapDuration)\r\n      setLapTimes([...lapTimes, thisLapTime])\r\n\r\n      onLap(thisLapTime)\r\n    }\r\n  }\r\n\r\n  const readTime = (elapsedTime : number) : void => {\r\n    const timeLanguage = timeToLanguage(elapsedTime)\r\n    if (readTimeRef.current) {\r\n      readTimeRef.current.innerHTML = timeLanguage\r\n    }\r\n    if (speakTime && supportsSpeechSynthesis) { utter(timeLanguage) }\r\n  }\r\n\r\n  const readLap = (elapsedTime : number) : void => {\r\n    const lapLanguage = `${transText.lap} ${lapTimes.length + 1}, ${timeToLanguage(elapsedTime)}`\r\n    if (readLapRef.current) {\r\n      readLapRef.current.innerHTML = lapLanguage\r\n    }\r\n    if (speakTime && supportsSpeechSynthesis) { utter(lapLanguage) }\r\n  }\r\n\r\n  const timeToLanguage = (elapsedTime : number) : string => {\r\n    const [ days, hours, minutes, seconds, secondTenths ] = parseTime(elapsedTime)\r\n    const daysLang = days ? `${days} ${days > 1 ? transText.days : transText.day}` : ''\r\n    const hoursLang = hours ? `${hours} ${hours > 1 ? transText.hours : transText.hour}` : ''\r\n    const minutesLang = minutes ? `${minutes} ${minutes > 1 ? transText.minutes : transText.minute}` : ''\r\n    const secondsLang = seconds || secondTenths ? `${seconds} point ${secondTenths}  ${transText.seconds}` : ''\r\n\r\n    return [daysLang, hoursLang, minutesLang, secondsLang].filter(ts => ts).join(', ')\r\n  }\r\n\r\n  return <section className='stop-watch-component'>\r\n    <div ref={readTimeRef} className='sr-only' aria-live='assertive'/>\r\n    <div ref={readLapRef} className='sr-only' aria-live='assertive'/>\r\n\r\n    {supportsSpeechSynthesis && <button\r\n      className='speak-toggle'\r\n      onClick={() => setSpeakTime(!speakTime)}>\r\n      {speakTime ? <i className='fa fa-volume-up' /> : <i className='fa fa-volume-off' />}\r\n    </button>}\r\n\r\n    <time className='time-display large-margin-top' role='timer' >\r\n      <div ref={displayTimeRef} >\r\n        <span className='seconds' >00</span>\r\n        <span className='second-tenths'>00</span>\r\n      </div>\r\n    </time>\r\n\r\n    <div className='watch-controls text-center large-padding-top'>\r\n      <button className='small on-foreground' onClick={handleReset}>{transText.reset}</button>\r\n      <button\r\n        onClick={handleToggleTime}\r\n        className={`round on-foreground ${Boolean(isRunning) ? 'toggled' : ''}`}>\r\n        {Boolean(isRunning) ? <i className='fa fa-pause' /> : <i className='fa fa-play' />}\r\n        {Boolean(isRunning) ? <span className='sr-only'>{transText.pause}</span> : <span className='sr-only'>{transText.play}</span>}\r\n      </button>\r\n      <button className='small on-foreground' onClick={handleLap} disabled={!Boolean(isRunning)}>{transText.lap}</button>\r\n    </div>\r\n\r\n    {lapTimes.length > 0 && <aside className='lap-times'>\r\n      <div>\r\n        <strong className='small-padding-bottom'>{transText.lapTimes}</strong>\r\n        <ul>\r\n          {[...lapTimes].reverse()\r\n            .map(lap => [lap.id, parseTime(lap.time), parseTime(lap.fromStart)])\r\n            .map(([id, time, fromStart], i) => <li key={String(id)}>\r\n              #{String(lapTimes.length - i).padStart(2, '0')} -&nbsp;\r\n              <span>{padSegments(time as Array<number>).filter(s => s).join(':')}</span> -&nbsp;\r\n              <span>{padSegments(fromStart as Array<number>).filter(s => s).join(':')}</span>\r\n            </li>)\r\n          }\r\n        </ul>\r\n      </div>\r\n    </aside>}\r\n  </section>\r\n}\r\n\r\nexport default StopWatch","import React, { useState } from 'react'\nimport StopWatch from './components/StopWatch'\nimport {lapTime, PREFERRED_THEME, THEMES} from './constants'\n\nimport './App.scss'\n\ntype watchEvent = {\n  id: number\n  text: string\n}\n\nfunction App() {\n  const [ activeTheme, setActiveTheme ] = useState(PREFERRED_THEME.className)\n  const [ watchEvents, setWatchEvents ] = useState([] as watchEvent[])\n\n  const addWatchEvent = (text: string) : void => {\n    setWatchEvents([ ...watchEvents, { id: Date.now(), text } ])\n  }\n\n  const handleStart = () => addWatchEvent('START')\n  const handleReset = () => addWatchEvent('RESET')\n  const handleLap = (lap: lapTime) => addWatchEvent(`LAP: ${ lap.time }ms`)\n  const handlePause = (stopTime: number, laps: lapTime[]) => {\n    const eventText = `PAUSE: ${ String(stopTime) }ms, ${ laps.length } laps`\n    addWatchEvent(eventText)\n  }\n\n  return (\n    <div className={`demo-app ${activeTheme}`}>\n      <header className='clear-fix'>\n        <h1 className='pull-left'>Stop watch demo</h1>\n        <div className='pull-right'>\n          {Object.entries(THEMES).map(([ key, theme ]) => (\n            <button\n              key={theme.className}\n              className={`${activeTheme === theme.className ? 'toggled' : ''}`}\n              onClick={() => setActiveTheme(theme.className)}>{key}</button>\n          ))}\n        </div>\n      </header>\n      <main>\n        <section className='event-section'>\n          <strong>Watch events</strong>\n          {watchEvents.map(event => <div key={event.id}>{event.text}</div>)}\n          {watchEvents.length > 0 && <button className='on-foreground' onClick={() => setWatchEvents([])} >clear</button>}\n        </section>\n        <section className='component-section'>\n          <StopWatch\n            onStart={handleStart}\n            onPause={handlePause}\n            onLap={handleLap}\n            onReset={handleReset}\n          />\n        </section>\n      </main>\n    </div>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport './styles/base.scss'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}